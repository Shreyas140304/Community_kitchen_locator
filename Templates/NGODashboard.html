<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
        integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
    <title>Document</title>
</head>

<body>
    <div class="sidebar">
        <h2>NGO Panel</h2>
        <a href="#" class="active" data-page="dashboard"><i class="fa-solid fa-grip"></i> Dashboard</a>
        <a href="#" data-page="add-kitchen"><i class="fa-solid fa-plus"></i> Add New Kitchen</a>
        <a href="#" data-page="manage-kitchen"><i class="fa-solid fa-list-check"></i> Manage Kitchens</a>
        <a href="#" data-page="profile"><i class="fa-solid fa-user"></i> Profile</a>
        <a href="{{ url_for('logout') }}" data-page="logout"><i class="fa-solid fa-right-from-bracket"></i> Logout</a>
    </div>

    <div class="container"> 
        <div class="topbar">
            <h2 class="greet">Welcome, HelpingHands NGO</h2> 

        </div>
        <div class="main-content">
            <!-- Dashboard Section -->
            <div id="dashboard" class="content-section active">
                <div class="stats">
                    <div class="card">
                        <h3>Total Kitchens</h3>
                        <h2>{{ count }}</h2>
                    </div>
                    <div class="card">
                        <h3>Active Kitchens</h3>
                        <h2>{{ count_active }}</h2>
                    </div>
                    <div class="card">
                        <h3>Pending Approval</h3>
                        <h2>2</h2>
                    </div>
                </div>

                <div class="kitchen-table">
                    {% if kitchens %}
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Kitchen Name</th>
                                <th>Address</th>
                                <th>Contact</th>
                                <th>Capacity</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="kitchenTable">
                            {% for kitchen in kitchens %}
                            <tr>
                                <td>{{ loop.index }}</td>
                                <td>{{ kitchen.kitchen_name }}</td>
                                <td>{{ kitchen.address }}</td>
                                <td>{{ kitchen.phone_num }}</td>
                                <td>{{ kitchen.capacity }}</td>
                                <td>{{ kitchen.sts }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    {% else %}
                    <p>No kitchens found.</p>
                    {% endif %}
                </div>
            </div>

            <!-- Add Kitchen Section -->
            <div id="add-kitchen" class="content-section">
                <h3>Add New Kitchen</h3>

                <form class="add-kitchen-form" action="/welcome" method="POST">

                    <!-- 1. Location and Contact Information -->
                    <fieldset>
                        <legend>Location & Contact Information</legend>

                        <div class="kitchenName bottomPadding">
                            <label class="l-style" for="kitchen_name">Kitchen Name:</label>
                            <input type="text" id="kitchen_name" name="kitchen_name" required>
                        </div>

                        <div class="kitchenAdd bottomPadding">
                            <label class="l-style" for="address">Address:</label>
                            <textarea id="address" name="address" rows="2" required></textarea>
                        </div>

                        <div class="zip-code bottomPadding">
                            <label class="l-style" for="zip">ZIP Code:</label>
                            <input type="text" id="zip" name="zip" required>

                        </div>

                        <div class="serviceArea bottomPadding">
                            <label class="l-style" for="service_area">Service Area:</label>
                            <input type="text" id="service_area" name="service_area" required>
                        </div>

                        <div class="contactPerson bottomPadding">
                            <label class="l-style" for="contact_person">Contact Person:</label>
                            <input type="text" id="contact_Name" name="contact_Name" required>
                        </div>

                        <div class="contactPhn bottomPadding">
                            <label class="l-style" for="contact_phone">Contact Phone:</label>
                            <input type="tel" id="phone_num" name="phone_num" required>
                        </div>

                        <div class="contactEmail bottomPadding">
                            <label class="l-style" for="contact_email">Contact Email:</label>
                            <input type="email" id="contact_email" name="contact_email" required>
                        </div>


                        <div class="KitchenDirection bottomPadding">
                            <label class="l-style" for="directions">Directions / Accessibility Notes:</label>
                            <textarea id="directions" name="directions" rows="2"
                                placeholder="e.g., wheelchair access, landmarks"></textarea>
                        </div>

                    </fieldset>

                    <!-- 2. Operating Hours and Schedule -->
                    <fieldset>
                        <legend>Operating Hours & Schedule</legend>

                        <div class="openDays bottomPadding">
                            <label class="l-style">Days Open:</label>
                            <div class="checkbox-group">
                                <label><input type="checkbox" name="days" value="Mon"> Mon</label>
                                <label><input type="checkbox" name="days" value="Tue"> Tue</label>
                                <label><input type="checkbox" name="days" value="Wed"> Wed</label>
                                <label><input type="checkbox" name="days" value="Thu"> Thu</label>
                                <label><input type="checkbox" name="days" value="Fri"> Fri</label>
                                <label><input type="checkbox" name="days" value="Sat"> Sat</label>
                                <label><input type="checkbox" name="days" value="Sun"> Sun</label>
                                <label><input type="checkbox" name="days" value="All"> All</label>
                            </div>
                        </div>

                        <div class="mealTime bottomPadding">
                            <label class="l-style" for="meal_time">Meal Serving Time:</label>
                            <input type="text" id="meal_time" name="meal_time" placeholder="e.g., 12:00 PM - 2:00 PM"
                                required>
                        </div>


                        <div class="frequency bottomPadding">
                            <label class="l-style" for="frequency">Frequency:</label>
                            <select id="frequency" name="frequency" required>
                                <option value="daily">Daily</option>
                                <option value="weekly">Weekly</option>
                                <option value="monthly">Monthly</option>
                            </select>
                        </div>

                        <div class="splHrs bottomPadding">
                            <label class="l-style" for="special-hours">Special / Holiday Hours:</label>
                            <textarea id="special_hours" name="special_hours" rows="2"
                                placeholder="e.g., closed on public holidays"></textarea>
                        </div>

                    </fieldset>

                    <!-- 3. Meal Services Offered -->
                    <fieldset>
                        <legend>Meal Services Offered</legend>

                        <div class="mealType bottomPadding">
                            <label class="l-style">Meal Types:</label>
                            <div class="checkbox-group">
                                <label><input type="checkbox" name="meal_types" value="Hot Meals"> Hot Meals</label>
                                <label><input type="checkbox" name="meal_types" value="Packed Lunches"> Packed
                                    Lunches</label>
                                <label><input type="checkbox" name="meal_types" value="Groceries"> Groceries</label>
                            </div>
                        </div>


                        <div class="audience bottomPadding">
                            <label class="l-style">Target Audience:</label>
                            <div class="checkbox-group">
                                <label><input type="checkbox" name="audience" value="Families"> Families</label>
                                <label><input type="checkbox" name="audience" value="Seniors"> Seniors</label>
                                <label><input type="checkbox" name="audience" value="Children"> Children</label>
                                <label><input type="checkbox" name="audience" value="Homeless"> Homeless
                                    Individuals</label>
                            </div>
                        </div>

                        <div class="mealcapacity bottomPadding">
                            <label class="l-style" for="capacity">Capacity (Meals per day/week):</label>
                            <input type="number" id="capacity" name="capacity" required>
                        </div>

                        <div class="status bottomPadding">
                            <label class="l-style" for="status">Status:</label>
                            <select id="sts" name="sts" required>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>

                    </fieldset>

                    <button type="submit">Add Kitchen</button>
                </form>
                <!-- </div> -->

            </div>

            <!-- Manage Kitchen Section -->
            <div id="manage-kitchen" class="content-section">
                <div class="table-container">
                    {% if kitchens %}
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Kitchen Name</th>
                                <th>Address</th>
                                <th>Contact</th>
                                <th>Capacity</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="kitchenTable">
                            {% for kitchen in kitchens %}
                            <tr>
                                <td>{{ loop.index }}</td>
                                <td>{{ kitchen.kitchen_name }}</td>
                                <td>{{ kitchen.address }}</td>
                                <td>{{ kitchen.phone_num }}</td>
                                <td>{{ kitchen.capacity }}</td>
                                <td class="status-active">Active</td>
                                <td>
                                    <button onclick="openEditKitchen()">Edit</button>
                                    <button>Delete</button>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    {% else %}
                    <p>No kitchens found.</p>
                    {% endif %}
                </div>
                <!-- Edit Kitchen Modal -->
                <div id="editKitchenModal" class="modal">
                    <div class="modal-content">
                        <span class="close" onclick="closeEditKitchenModal()">&times;</span>
                        <h3>Edit Kitchen</h3>

                        <form id="edit-kitchen-form" action="/edit_kitchen" method="POST">
                            <fieldset>
                                <legend>Location & Contact Information</legend>

                                <input type="hidden" id="edit-id" name="id">

                                <div class="kitchenName bottomPadding">
                                    <label class="l-style" for="edit-kitchen-name">Kitchen Name:</label>
                                    <input type="text" id="edit-kitchen-name" name="kitchen_name" required>
                                </div>

                                <div class="kitchenAdd bottomPadding">
                                    <label class="l-style" for="edit-address">Address:</label>
                                    <textarea id="edit-address" name="address" rows="2" required></textarea>
                                </div>

                                <div class="zip-code bottomPadding">
                                    <label class="l-style" for="edit-zip">ZIP Code:</label>
                                    <input type="text" id="edit-zip" name="zip" required>
                                </div>

                                <div class="serviceArea bottomPadding">
                                    <label class="l-style" for="edit-service-area">Service Area:</label>
                                    <input type="text" id="edit-service-area" name="service_area" required>
                                </div>

                                <div class="contactPerson bottomPadding">
                                    <label class="l-style" for="edit-contact-person">Contact Person:</label>
                                    <input type="text" id="edit-contact_Name" name="contact_Name" required>
                                </div>

                                <div class="contactPhn bottomPadding">
                                    <label class="l-style" for="edit-contact-phone">Contact Phone:</label>
                                    <input type="tel" id="edit-phone_num" name="phone_num" required>
                                </div>

                                <div class="contactEmail bottomPadding">
                                    <label class="l-style" for="edit-contact-email">Contact Email:</label>
                                    <input type="email" id="edit-contact-email" name="contact_email" required>
                                </div>

                                <div class="KitchenDirection bottomPadding">
                                    <label class="l-style" for="edit-directions">Directions / Accessibility
                                        Notes:</label>
                                    <textarea id="edit-directions" name="directions" rows="2"></textarea>
                                </div>
                            </fieldset>
                            <!-- operating hours -->
                            <fieldset>
                                <legend>Operating Hours & Schedule</legend>

                                <div class="bottomPadding">
                                    <label class="l-style">Days Open:</label>
                                    <div class="checkbox-group">
                                        <label><input type="checkbox" name="days" value="Mon"> Mon</label>
                                        <label><input type="checkbox" name="days" value="Tue"> Tue</label>
                                        <label><input type="checkbox" name="days" value="Wed"> Wed</label>
                                        <label><input type="checkbox" name="days" value="Thu"> Thu</label>
                                        <label><input type="checkbox" name="days" value="Fri"> Fri</label>
                                        <label><input type="checkbox" name="days" value="Sat"> Sat</label>
                                        <label><input type="checkbox" name="days" value="Sun"> Sun</label>
                                    </div>
                                </div>

                                <div class="bottomPadding">
                                    <label class="l-style" for="meal-time">Meal Serving Time:</label>
                                    <input type="text" id="meal_time" name="meal_time" placeholder="12:00 PM - 2:00 PM">
                                </div>

                                <div class="bottomPadding">
                                    <label class="l-style" for="frequency">Frequency:</label>
                                    <select id="frequency" name="frequency">
                                        <option value="daily">Daily</option>
                                        <option value="weekly">Weekly</option>
                                        <option value="monthly">Monthly</option>
                                    </select>
                                </div>

                                <div class="bottomPadding">
                                    <label class="l-style" for="special-hours">Special / Holiday Hours:</label>
                                    <textarea id="special_hours" name="special_hours" rows="2"
                                        placeholder="Closed on public holidays"></textarea>
                                </div>
                            </fieldset>

                            <!-- 3. Meal Services Offered -->
                            <fieldset>
                                <legend>Meal Services Offered</legend>

                                <div class="bottomPadding">
                                    <label class="l-style">Meal Types:</label>
                                    <div class="checkbox-group">
                                        <label><input type="checkbox" name="meal_types" value="Hot Meals"> Hot
                                            Meals</label>
                                        <label><input type="checkbox" name="meal_types" value="Packed Lunches"> Packed
                                            Lunches</label>
                                        <label><input type="checkbox" name="meal_types" value="Groceries">
                                            Groceries</label>
                                    </div>
                                </div>

                                <div class="bottomPadding">
                                    <label class="l-style">Target Audience:</label>
                                    <div class="checkbox-group">
                                        <label><input type="checkbox" name="audience" value="Families">
                                            Families</label>
                                        <label><input type="checkbox" name="audience" value="Seniors"> Seniors</label>
                                        <label><input type="checkbox" name="audience" value="Children">
                                            Children</label>
                                        <label><input type="checkbox" name="audience" value="Homeless">
                                            Homeless</label>
                                    </div>
                                </div>

                                <div class="bottomPadding">
                                    <label class="l-style" for="capacity">Capacity (Meals per day/week):</label>
                                    <input type="number" id="capacity" name="capacity" placeholder="200">
                                </div>

                                <div class="bottomPadding">
                                    <label class="l-style" for="status">Status:</label>
                                    <select id="sts" name="sts">
                                        <option value="active">Active</option>
                                        <option value="inactive">Inactive</option>
                                    </select>
                                </div>
                            </fieldset>
                            <button type="submit">Update Kitchen</button>
                        </form>
                    </div>
                </div>

            </div>

            <!-- Profile Section -->
            <div id="profile" class="content-section">

                <form class="form editForm" action="">
                    <h1>Edit Profile</h1>

                    <!-- Message Section (success/error) -->
                    <div class="successMsg" style="display:none;">Profile updated successfully!</div>
                    <div class="errorMsg" style="display:none;">Something went wrong. Please try again.</div>

                    <div class="profile-container">
                        <!-- Personal Details -->
                        <div class="personal-details column">
                            <span>Personal Details</span>
                            <div class="ngo-name-field">
                                <input type="text" name="NGO_Name" id="Name" placeholder="NGO Name"
                                    value="DeepSagar Foundation">
                            </div>
                            <div class="ngo-registration-field">
                                <input type="text" name="NGO_Regi" id="NGO_register" placeholder="Registration Number"
                                    value="NGO12345">
                            </div>
                            <div class="username-field">
                                <input type="text" name="username" id="username" placeholder="Username"
                                    value="deepsagar_admin">
                            </div>
                        </div>

                        <!-- Contact Details -->
                        <div class="contact-details column">
                            <span>Contact Details</span>
                            <div class="contact-Name-field">
                                <input type="text" name="contact_Name" id="contact_Name" placeholder="Enter Name"
                                    value="Komolika Dagare">
                            </div>
                            <div class="flex">
                                <div class="phone-num-field">
                                    <input type="text" name="phone_num" id="phone_num" placeholder="Phone"
                                        value="9876543210">
                                </div>
                                <div class="email-field">
                                    <input type="email" name="email" id="email" placeholder="Email"
                                        value="komolika@example.com">
                                </div>
                            </div>
                        </div>

                        <!-- Location Details -->
                        <div class="location-details column">
                            <span>Location Details</span>
                            <div class="address">
                                <input type="text" name="address" id="address" placeholder="Enter Address"
                                    value="123 MG Road">
                            </div>
                            <div class="flex">
                                <div class="cityC">
                                    <input type="text" name="city" id="city" placeholder="City" value="Pune">
                                </div>
                                <div class="stateC">
                                    <input type="text" name="state" id="state" placeholder="State" value="Maharashtra">
                                </div>
                                <div class="pincodeC">
                                    <input type="text" name="pincode" id="pincode" placeholder="Pincode" value="411001">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Establishment Date -->
                    <div class="created_at_field">
                        <span>Establishment Date:</span><br>
                        <input type="date" name="establish_date" id="establish_date" value="2020-05-10">
                    </div>

                    <!-- Password Update -->
                    <div class="password">
                        <input type="password" name="password" id="password" placeholder="Update Password (optional)">
                    </div>

                    <!-- Save Button -->
                    <button type="submit" class="registerBtn">Save Changes</button>


                </form>
            </div>

            <!-- Logout Section -->
            <div id="logout" class="content-section">
               
            </div>
        </div>


    </div>
    <script src="static/jS/dashboard.js"></script>
    <script>
        function openEditKitchen() {
            document.getElementById("editKitchenModal").style.display = "flex";
        }

        function closeEditKitchen() {
            document.getElementById("editKitchenModal").style.display = "none";
        }

        window.onclick = function (event) {
            const modal = document.getElementById("editKitchenModal");
            if (event.target === modal) {
                closeEditKitchen();
            }
        };
    </script>

</body>

</html>
